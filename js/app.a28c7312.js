(function(t){function e(e){for(var o,a,s=e[0],c=e[1],l=e[2],u=0,d=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},a={app:0},r={app:0},i=[];function s(t){return c.p+"js/"+({about:"about",cart:"cart",checkoutlist:"checkoutlist",contact:"contact",form:"form",login:"login",productcontent:"productcontent",products:"products",reg:"reg",upload:"upload"}[t]||t)+"."+{about:"3dca143f",cart:"5abb33d3",checkoutlist:"779de447",contact:"01fe378f",form:"eb159554",login:"b3b8d4f0",productcontent:"28c4a8b2",products:"27d3b270",reg:"2897181b",upload:"49d0c9ed"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1,cart:1,contact:1,form:1,login:1,productcontent:1,products:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var o="css/"+({about:"about",cart:"cart",checkoutlist:"checkoutlist",contact:"contact",form:"form",login:"login",productcontent:"productcontent",products:"products",reg:"reg",upload:"upload"}[t]||t)+"."+{about:"83a08301",cart:"bf10c82a",checkoutlist:"31d6cfe0",contact:"a4f8ba18",form:"bf10c82a",login:"424f6008",productcontent:"3c5028b7",products:"ff17ef05",reg:"31d6cfe0",upload:"31d6cfe0"}[t]+".css",r=c.p+o,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===r))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===o||u===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete a[t],f.parentNode.removeChild(f),n(i)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[t]=0})));var o=r[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise((function(e,n){o=r[t]=[e,n]}));e.push(o[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}r[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"09ca":function(t,e,n){t.exports=n.p+"img/water-filter (1)_animated (5).960c5fc8.svg"},"4fc1":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("0cdd");var o=n("2b0e"),a=n("5f5b");n("ab8b"),n("2dd8");o["default"].use(a["a"]);var r=n("bc3a"),i=n.n(r),s=n("2106"),c=n.n(s),l=n("5886"),u=(n("4413"),n("657c")),d=(n("2bd9"),n("71a5")),f=n.n(d),p=n("a584"),m=n("7212"),g=n.n(m),h=n("f5af"),b=n.n(h),v=(n("e829"),n("d3d5")),w=n("ce7b"),_=n.n(w),C=(n("6dac"),n("9062")),y=n.n(C),k=(n("e40d"),n("03a5")),T=n.n(k),x=n("98c9"),E=n("2ee4"),$=n.n(E),S=(n("da93"),n("6d09")),L=n.n(S),O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{attrs:{id:"appMain"}},[0===t.user.id.length?o("b-navbar",{staticClass:"shadow mb-1",attrs:{toggleable:"lg"}},[o("b-container",[o("b-navbar-brand",{attrs:{to:"/"}},[o("img",{staticClass:"logo",attrs:{src:n("ba95")}}),o("span",{staticClass:"logotitle"},[t._v(" TEST PAGE")])]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}},[o("span",{staticClass:"navbar-toggler-icon"})])],1),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",{staticClass:"ml-auto font-weight-bold"},[0===t.user.id.length|t.user.id.length>0?o("b-nav-item",{attrs:{to:"/form"}},[t._v("表單測試")]):t._e(),o("facebook-login",{staticClass:"button",attrs:{appid:"420905468863679"},on:{login:t.onLogin,logout:t.onLogout,"get-initial-status":t.getUserData,"sdk-loaded":t.sdkLoaded}}),t.isConnected?o("div",{staticClass:"information"},[o("h1",[t._v("My Facebook Information")]),o("div",{staticClass:"well"},[o("div",{staticClass:"list-item"},[o("img",{attrs:{src:t.picture}})]),o("div",{staticClass:"list-item"},[o("i",[t._v(t._s(t.name))])]),o("div",{staticClass:"list-item"},[o("i",[t._v(t._s(t.email))])]),o("div",{staticClass:"list-item"},[o("i",[t._v(t._s(t.personalID))])])])]):t._e(),0===t.user.id.length?o("b-nav-item",{attrs:{to:"/login"}},[o("font-awesome-icon",{attrs:{icon:["fas","user-cog"]}})],1):t._e()],1)],1)],1):t._e(),t.user.id.length>0?o("b-navbar",{staticClass:"shadow mb-1 bg-dark",attrs:{toggleable:"lg",type:"dark"}},[o("b-container",[o("b-navbar-brand",{attrs:{to:"/"}},[o("img",{staticClass:"logo",attrs:{src:n("c780")}}),o("span",{staticClass:"logotitle"},[t._v(" 艾力特淨水後台管理")])]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}},[o("span",{staticClass:"navbar-toggler-icon"})])],1),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",{staticClass:"ml-auto"},[t.user.id.length>0?o("b-nav-item",{attrs:{to:"/checkoutlist"}},[t._v("銷售紀錄")]):t._e(),t.user.id.length>0?o("b-nav-item",{attrs:{to:"/upload"}},[t._v("商品管理")]):t._e(),t.user.id.length>0?o("b-nav-item",[t._v("管理員"+t._s(t.user.name))]):t._e(),o("b-dropdown",{attrs:{id:"dropdown-1",right:""}},[t.user.id.length>0?o("b-dropdown-item",{on:{click:t.logout}},[t._v("登出")]):t._e()],1),0===t.user.id.length?o("b-nav-item",{attrs:{to:"/login"}},[o("font-awesome-icon",{attrs:{icon:["fas","user-cog"]}})],1):t._e()],1)],1)],1):t._e(),t.status.fileUploading?o("b-img",{staticClass:"loadingimg position-absolute",attrs:{src:n("09ca"),width:"100px",label:"Loading..."}}):t._e(),o("transition",{staticClass:"position-relative",attrs:{name:"slide-fade"}},[o("router-view")],1)],1)])},j=[],P=(n("b0c0"),{name:"App",computed:{user:function(){return this.$store.state.user},images:function(){return this.$store.getters.images}},data:function(){return{status:{fileUploading:!1},isShow:!0,isConnected:!1,name:"",email:"",personalID:"",picture:"",FB:void 0}},components:{FacebookLogin:L.a},methods:{getUserData:function(){var t=this;this.FB.api("/me","GET",{fields:"id,name,email,picture"},(function(e){t.personalID=e.id,t.email=e.email,t.name=e.name,t.picture=e.picture.data.url}))},sdkLoaded:function(t){this.isConnected=t.isConnected,this.FB=t.FB,this.isConnected&&this.getUserData()},onLogin:function(){this.isConnected=!0,this.getUserData()},onLogout:function(){this.isConnected=!1},toggleWelcome:function(){this.isShow=!this.isShow},loading:function(){var t=this;this.status.fileUploading=!0,setTimeout((function(){t.status.fileUploading=!1}),1800)},logout:function(){var t=this;this.axios.delete("/users/logout").then((function(e){e.data.success?(t.$swal({icon:"success",title:"成功",text:"登出成功"}),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")):t.$swal({icon:"error",title:"錯誤",text:e.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))},heartbeat:function(){var t=this;this.axios.get("/users/heartbeat").then((function(e){t.user.id.length>0&&(e.data||(t.$swal({icon:"error",title:"錯誤",text:"登入時效已過"}),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")))})).catch((function(){t.$swal({icon:"error",title:"錯誤",text:"發生錯誤"}),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")}))}},mounted:function(){var t=this;this.heartbeat(),setInterval((function(){t.heartbeat()}),5e3)}}),F=P,I=(n("5c0b"),n("2877")),U=Object(I["a"])(F,O,j,!1,null,null,null),A=U.exports,B=(n("d3b7"),n("8c4f")),D=(n("c740"),n("a434"),n("2f62")),M=n("0e44");o["default"].use(D["a"]);var N=new D["a"].Store({state:{user:{name:"",id:""},images:[]},mutations:{addCart:function(t,e){var n=t.images.findIndex((function(t){return t.name===e.name}));-1===n?t.images.push(e):t.images[n].cartcount+=e.cartcount},delCart:function(t,e){t.images.splice(e,1)},logout:function(t){t.user.name="",t.user.id=""},login:function(t,e){t.user.name=e.account,t.user.id=e._id},delItem:function(t,e){t.images.count.splice(e,1)}},actions:{},modules:{},getters:{images:function(t){return t.images}},plugins:[Object(M["a"])()]}),G=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},H=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{overflow:"hidden"},attrs:{id:"home"}},[n("h1",[t._v("Hello world")])])}],q={data:function(){return{btnFlag:!1,carousels:[{speed:3800,imgs:[n("fba0"),n("9af5")]}],swiperOption:{slidesPerView:4,spaceBetween:30,centeredSlides:!0,loop:!0,loopFillGroupWithBlank:!0,pagination:{el:".swiper-pagination",clickable:!0},scrollbar:{el:".swiper-scrollbar",hide:!0}},slide:0,sliding:null}},methods:{onSlideStart:function(t){this.sliding=!0},onSlideEnd:function(t){this.sliding=!1},backTop:function(){var t=this,e=setInterval((function(){var n=Math.floor(-t.scrollTop/5);document.documentElement.scrollTop=document.body.scrollTop=t.scrollTop+n,0===t.scrollTop&&clearInterval(e)}),16)},scrollToTop:function(){var t=this,e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;t.scrollTop=e,t.scrollTop>0?t.btnFlag=!0:t.btnFlag=!1}},mounted:function(){window.addEventListener("scroll",this.scrollToTop)},destroyed:function(){window.removeEventListener("scroll",this.scrollToTop)}},J=q,W=(n("c219"),Object(I["a"])(J,G,H,!1,null,null,null)),K=W.exports;o["default"].use(B["a"]);var R=[{path:"/",name:"Home",component:K,meta:{title:"艾力特淨水"}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))},meta:{title:"關於我們"}},{path:"/cart",name:"Cart",component:function(){return n.e("cart").then(n.bind(null,"b789"))},meta:{title:"我的購物車"}},{path:"/reg",name:"Reg",component:function(){return n.e("reg").then(n.bind(null,"b8b8"))},meta:{title:"註冊"}},{path:"/login",name:"Login",component:function(){return n.e("login").then(n.bind(null,"a55b"))},meta:{title:"登入"}},{path:"/upload",name:"Upload",component:function(){return n.e("upload").then(n.bind(null,"2679"))},meta:{title:"商品上架"}},{path:"/checkoutlist",name:"Checkoutlist",component:function(){return n.e("checkoutlist").then(n.bind(null,"5774"))},meta:{title:"銷售清單"}},{path:"/products",name:"Products",component:function(){return n.e("products").then(n.bind(null,"e6dc"))},meta:{title:"淨水商品"}},{path:"/productcontent/:id",name:"Productcontent",component:function(){return n.e("productcontent").then(n.bind(null,"bcad"))},meta:{title:"商品詳情"}},{path:"/contact",name:"Contact",component:function(){return n.e("contact").then(n.bind(null,"b8fa"))},meta:{title:"聯絡我們"}},{path:"/form",name:"Form",component:function(){return n.e("form").then(n.bind(null,"c109"))},meta:{title:"表單測試"}}],V=new B["a"]({routes:R});V.afterEach((function(t,e){document.title=t.meta.title})),V.beforeEach((function(t,e,n){t.meta.login&&!N.state.user.id?n("/login"):n()}));var Y=V,z=(n("cecf"),n("77ed")),Q=n.n(z),X=(n("c5c5"),n("ecee")),Z=n("ad3d"),tt=n("c074"),et=n("b702"),nt=n("f2d1");X["c"].add(tt["a"],tt["f"],tt["c"],tt["e"],tt["d"],et["a"],nt["c"],nt["a"],nt["b"],nt["d"],tt["b"]),o["default"].component("font-awesome-icon",Z["a"]),o["default"].component("visual",_.a),o["default"].component("Loading",y.a),i.a.defaults.withCredentials=!0,o["default"].config.productionTip=!1,b.a.init(),o["default"].component("ImgInputer",u["a"]),o["default"].use(L.a),o["default"].use($.a),o["default"].use(x["a"]),o["default"].use(T.a),o["default"].use(Q.a),o["default"].use(v["a"]),o["default"].use(g.a),o["default"].use(c.a,i.a),o["default"].use(l["default"]),o["default"].use(f.a),o["default"].use(p["a"],{config:{id:""}}),new o["default"]({router:Y,store:N,render:function(t){return t(A)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9af5":function(t,e,n){t.exports=n.p+"img/06rvsd.98665177.png"},"9c0c":function(t,e,n){},ba95:function(t,e,n){t.exports=n.p+"img/puipui.124693f0.png"},c219:function(t,e,n){"use strict";n("4fc1")},c780:function(t,e,n){t.exports=n.p+"img/logo.bbaf2ab9.png"},cecf:function(t,e,n){},fba0:function(t,e,n){t.exports=n.p+"img/01rvsd.c3f2c582.png"}});
//# sourceMappingURL=app.a28c7312.js.map